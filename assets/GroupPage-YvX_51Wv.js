import{R as f,aS as v,aq as y,r as s,w as _,W as r,ap as u,at as c,Z as n,X as h,a5 as w,as as d,aU as k,ah as b}from"./index-B5cKJEsb.js";import{G,D as q}from"./DescriptionDialog-ClBvxs1u.js";import P from"./MemberView-Datbl97V.js";import"./QMarkupTable-BdHJVmiq.js";import"./MemberCard-D-huDLNl.js";import"./InitialFallbackAvatar-DdQhVARR.js";import"./index-DhNyYKrN.js";import"./RelativeTimeDisplay-CTCOZZ8Y.js";import"./QBtnToggle-DwIJ51xg.js";import"./QBtnGroup-BZaGG879.js";import"./QItem-DFQyp7xd.js";import"./QList-CeI3M5mw.js";import"./MemberList-B7iWJxKM.js";import"./QTable-CaejNunE.js";import"./QSelect-D38puw0H.js";import"./QMenu-BD1NPTJN.js";import"./format-CPyQx2aO.js";import"./rtl-DFPa-2ov.js";const A={key:2,class:"row q-mt-lg q-pa-md bg-lighten q-pa-md"},N={key:3,class:"row q-mt-lg q-pa-md bg-lighten q-pa-md"},V=f({__name:"GroupPage",setup(x){const g=v(),{pluralKit:m}=y(),a=s("loading"),t=s(null),l=s(null),i=s({loading:!0,allowed:!0,list:[]}),p=s();return _(()=>g.params.id,async o=>{if(!(!o||Array.isArray(o))){t.value=null;try{t.value=await m.getGroup(o),l.value=await m.getSystem(t.value.system)}catch(e){if(e instanceof d)if(e.status=="404")a.value="notfound";else if(e.status=="403")a.value="forbidden";else throw e;else throw e}try{i.value.list=await m.getGroupMembers(o)}catch(e){if(e instanceof d&&e.status=="403")i.value.allowed=!1;else throw e}i.value.loading=!1}},{immediate:!0}),(o,e)=>(r(),u(c,null,[t.value&&l.value?(r(),u(c,{key:0},[n(G,{group:t.value,system:l.value,flat:""},null,8,["group","system"]),n(P,{system:l.value,members:i.value,dialog:p.value},null,8,["system","members","dialog"])],64)):a.value=="loading"?(r(),h(k,{key:1,indeterminate:""})):a.value=="forbidden"?(r(),u("div",A," Not Allowed To View Group ")):a.value=="notfound"?(r(),u("div",N," Group Not Found ")):w("v-if",!0),n(q,{ref_key:"dialog",ref:p},null,512)],64))}}),H=b(V,[["__file","/home/zowie/dev/pkstatus/src/pages/Lookup/GroupPage.vue"]]);export{H as default};
