import{b6 as Ve,b7 as Ee,b8 as Ue,b9 as Ae,ba as Fe,bb as Pe,bc as Oe,at as Ie,bd as je,be as xe,bf as Be,bg as $e,bh as Ne,bi as We,bj as qe,bk as He,bl as Le,bm as Ye,bn as Qe,bo as Ke,bp as Ze,bq as Ge,br as Xe,bs as Je,bt as et,bu as tt,d as Z,bv as nt,X as _,a5 as d,ap as z,a3 as a,bw as at,bx as ot,by as rt,bz as st,aL as it,bA as lt,a2 as G,Z as E,bB as ct,bC as ut,R as $,bD as dt,bE as mt,bF as pt,bG as ft,bH as bt,bI as vt,bJ as yt,bK as ht,bL as _t,bM as St,bN as gt,g as wt,bO as Ct,bP as kt,bQ as Mt,h as zt,bR as Rt,bS as Dt,bT as Tt,bU as Vt,bV as Et,i as Ut,bW as At,bX as Ft,bY as Pt,bZ as Ot,a9 as It,b_ as jt,b$ as xt,c0 as Bt,c1 as $t,c2 as Nt,c3 as X,c4 as Wt,v as qt,_ as Ht,c5 as Lt,aB as B,b2 as Yt,c6 as Qt,o as Kt,c7 as Zt,b1 as Gt,c8 as Xt,t as Jt,c9 as en,ca as tn,cb as nn,cc as an,L as on,cd as rn,W as u,b4 as J,A as sn,ce as ln,b3 as ee,cf as cn,K as un,cg as dn,r as te,ch as mn,ci as pn,aD as fn,cj as bn,V as vn,ck as yn,cl as hn,cm as _n,cn as Sn,co as gn,cp as wn,cq as Cn,cr as kn,cs as Mn,ct as zn,cu as Rn,cv as Dn,cw as Tn,a6 as y,cx as Vn,cy as En,cz as Un,cA as An,cB as Fn,cC as Pn,cD as On,cE as In,$ as h,cF as jn,cG as xn,cH as Bn,aH as ne,cI as $n,cJ as Nn,cK as Wn,cL as qn,cM as Hn,cN as Ln,cO as Yn,cP as Qn,cQ as Kn,cR as Zn,cS as Gn,w as Xn,cT as Jn,cU as ea,cV as ta,cW as na,Y as f,cX as aa,x as oa,cY as ra,cZ as sa,aT as ia,c_ as la,c$ as ca,ab as ae,aa as ua,ah as oe,S as da,U as ma,aS as pa,ac as x,ad as fa,a1 as ba}from"./index-B5cKJEsb.js";import{Q as va}from"./QMarkupTable-BdHJVmiq.js";import{I as ya}from"./InitialFallbackAvatar-DdQhVARR.js";import{R as ha}from"./RelativeTimeDisplay-CTCOZZ8Y.js";/**
* vue v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const _a=()=>{},Sa=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Ve,BaseTransitionPropsValidators:Ee,Comment:Ue,DeprecationTypes:Ae,EffectScope:Fe,ErrorCodes:Pe,ErrorTypeStrings:Oe,Fragment:Ie,KeepAlive:je,ReactiveEffect:xe,Static:Be,Suspense:$e,Teleport:Ne,Text:We,TrackOpTypes:qe,Transition:He,TransitionGroup:Le,TriggerOpTypes:Ye,VueElement:Qe,assertNumber:Ke,callWithAsyncErrorHandling:Ze,callWithErrorHandling:Ge,camelize:Xe,capitalize:Je,cloneVNode:et,compatUtils:tt,compile:_a,computed:Z,createApp:nt,createBlock:_,createCommentVNode:d,createElementBlock:z,createElementVNode:a,createHydrationRenderer:at,createPropsRestProxy:ot,createRenderer:rt,createSSRApp:st,createSlots:it,createStaticVNode:lt,createTextVNode:G,createVNode:E,customRef:ct,defineAsyncComponent:ut,defineComponent:$,defineCustomElement:dt,defineEmits:mt,defineExpose:pt,defineModel:ft,defineOptions:bt,defineProps:vt,defineSSRCustomElement:yt,defineSlots:ht,devtools:_t,effect:St,effectScope:gt,getCurrentInstance:wt,getCurrentScope:Ct,getTransitionRawChildren:kt,guardReactiveProps:Mt,h:zt,handleError:Rt,hasInjectionContext:Dt,hydrate:Tt,initCustomFormatter:Vt,initDirectivesForSSR:Et,inject:Ut,isMemoSame:At,isProxy:Ft,isReactive:Pt,isReadonly:Ot,isRef:It,isRuntimeOnly:jt,isShallow:xt,isVNode:Bt,markRaw:$t,mergeDefaults:Nt,mergeModels:X,mergeProps:Wt,nextTick:qt,normalizeClass:Ht,normalizeProps:Lt,normalizeStyle:B,onActivated:Yt,onBeforeMount:Qt,onBeforeUnmount:Kt,onBeforeUpdate:Zt,onDeactivated:Gt,onErrorCaptured:Xt,onMounted:Jt,onRenderTracked:en,onRenderTriggered:tn,onScopeDispose:nn,onServerPrefetch:an,onUnmounted:on,onUpdated:rn,openBlock:u,popScopeId:J,provide:sn,proxyRefs:ln,pushScopeId:ee,queuePostFlushCb:cn,reactive:un,readonly:dn,ref:te,registerRuntimeCompiler:mn,render:pn,renderList:fn,renderSlot:bn,resolveComponent:vn,resolveDirective:yn,resolveDynamicComponent:hn,resolveFilter:_n,resolveTransitionHooks:Sn,setBlockTracking:gn,setDevtoolsHook:wn,setTransitionHooks:Cn,shallowReactive:kn,shallowReadonly:Mn,shallowRef:zn,ssrContextKey:Rn,ssrUtils:Dn,stop:Tn,toDisplayString:y,toHandlerKey:Vn,toHandlers:En,toRaw:Un,toRef:An,toRefs:Fn,toValue:Pn,transformVNodeArgs:On,triggerRef:In,unref:h,useAttrs:jn,useCssModule:xn,useCssVars:Bn,useModel:ne,useSSRContext:$n,useSlots:Nn,useTransitionState:Wn,vModelCheckbox:qn,vModelDynamic:Hn,vModelRadio:Ln,vModelSelect:Yn,vModelText:Qn,vShow:Kn,version:Zn,warn:Gn,watch:Xn,watchEffect:Jn,watchPostEffect:ea,watchSyncEffect:ta,withAsyncContext:na,withCtx:f,withDefaults:aa,withDirectives:oa,withKeys:ra,withMemo:sa,withModifiers:ia,withScopeId:la},Symbol.toStringTag,{value:"Module"}));var re={exports:{}};const ga=ca(Sa);(function(S){(function(){var R={744:function(s,c){c.Z=(t,g)=>{const M=t.__vccOpts||t;for(const[D,O]of g)M[D]=O;return M}}},p={};function l(s){var c=p[s];if(c!==void 0)return c.exports;var t=p[s]={exports:{}};return R[s](t,t.exports,l),t.exports}(function(){l.d=function(s,c){for(var t in c)l.o(c,t)&&!l.o(s,t)&&Object.defineProperty(s,t,{enumerable:!0,get:c[t]})}})(),function(){l.o=function(s,c){return Object.prototype.hasOwnProperty.call(s,c)}}(),function(){l.r=function(s){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})}}(),function(){l.p=""}();var k={};(function(){if(l.r(k),l.d(k,{Fitty:function(){return I},default:function(){return fe}}),typeof window!="undefined"){var s=window.document.currentScript,c=s&&s.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);c&&(l.p=c[1])}var t=ga;const g=["id"];function M(n,o,T,b,v,j){return(0,t.openBlock)(),(0,t.createElementBlock)("div",{class:"mainwrap",id:n.contentID},[(0,t.renderSlot)(n.$slots,"content",{},void 0,!0),(0,t.renderSlot)(n.$slots,"default",{},void 0,!0)],8,g)}var D=function(n){if(n){var o=function(e){return[].slice.call(e)},T=0,b=1,v=2,j=3,U=[],W=null,P="requestAnimationFrame"in n?function(){n.cancelAnimationFrame(W),W=n.requestAnimationFrame(function(){return be(U.filter(function(e){return e.dirty&&e.active}))})}:function(){},q=function(e){return function(){U.forEach(function(r){return r.dirty=e}),P()}},be=function(e){e.filter(function(m){return!m.styleComputed}).forEach(function(m){m.styleComputed=_e(m)}),e.filter(Se).forEach(H);var r=e.filter(he);r.forEach(ye),r.forEach(function(m){H(m),ve(m)}),r.forEach(ge)},ve=function(e){return e.dirty=T},ye=function(e){e.availableWidth=e.element.parentNode.clientWidth,e.currentWidth=e.element.scrollWidth,e.previousFontSize=e.currentFontSize,e.currentFontSize=Math.min(Math.max(e.minSize,e.availableWidth/e.currentWidth*e.previousFontSize),e.maxSize),e.whiteSpace=e.multiLine&&e.currentFontSize===e.minSize?"normal":"nowrap"},he=function(e){return e.dirty!==v||e.dirty===v&&e.element.parentNode.clientWidth!==e.availableWidth},_e=function(e){var r=n.getComputedStyle(e.element,null);return e.currentFontSize=parseFloat(r.getPropertyValue("font-size")),e.display=r.getPropertyValue("display"),e.whiteSpace=r.getPropertyValue("white-space"),!0},Se=function(e){var r=!1;return!e.preStyleTestCompleted&&(/inline-/.test(e.display)||(r=!0,e.display="inline-block"),e.whiteSpace!=="nowrap"&&(r=!0,e.whiteSpace="nowrap"),e.preStyleTestCompleted=!0,r)},H=function(e){e.element.style.whiteSpace=e.whiteSpace,e.element.style.display=e.display,e.element.style.fontSize=e.currentFontSize+"px"},ge=function(e){e.element.dispatchEvent(new CustomEvent("fit",{detail:{oldValue:e.previousFontSize,newValue:e.currentFontSize,scaleFactor:e.currentFontSize/e.previousFontSize}}))},L=function(e,r){return function(){e.dirty=r,e.active&&P()}},we=function(e){return function(){U=U.filter(function(r){return r.element!==e.element}),e.observeMutations&&e.observer.disconnect(),e.element.style.whiteSpace=e.originalStyle.whiteSpace,e.element.style.display=e.originalStyle.display,e.element.style.fontSize=e.originalStyle.fontSize}},Ce=function(e){return function(){e.active||(e.active=!0,P())}},ke=function(e){return function(){return e.active=!1}},Me=function(e){e.observeMutations&&(e.observer=new MutationObserver(L(e,b)),e.observer.observe(e.element,e.observeMutations))},ze={minSize:16,maxSize:512,multiLine:!0,observeMutations:"MutationObserver"in n&&{subtree:!0,childList:!0,characterData:!0}},Y=null,Re=function(){n.clearTimeout(Y),Y=n.setTimeout(q(v),V.observeWindowDelay)},De=["resize","orientationchange"];return Object.defineProperty(V,"observeWindow",{set:function(e){var r="".concat(e?"add":"remove","EventListener");De.forEach(function(m){n[r](m,Re)})}}),V.observeWindow=!0,V.observeWindowDelay=100,V.fitAll=q(j),V}function Q(e,r){var m=Object.assign({},ze,r),Te=e.map(function(K){var A=Object.assign({},m,{element:K,active:!0});return function(w){w.originalStyle={whiteSpace:w.element.style.whiteSpace,display:w.element.style.display,fontSize:w.element.style.fontSize},Me(w),w.newbie=!0,w.dirty=!0,U.push(w)}(A),{element:K,fit:L(A,j),unfreeze:Ce(A),freeze:ke(A),unsubscribe:we(A)}});return P(),Te}function V(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return typeof e=="string"?Q(o(document.querySelectorAll(e)),r):Q([e],r)[0]}}(typeof window=="undefined"?null:window),O=D,N={randomUUID:typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let F;const se=new Uint8Array(16);function ie(){if(!F&&(F=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!F))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return F(se)}const i=[];for(let n=0;n<256;++n)i.push((n+256).toString(16).slice(1));function le(n,o=0){return(i[n[o+0]]+i[n[o+1]]+i[n[o+2]]+i[n[o+3]]+"-"+i[n[o+4]]+i[n[o+5]]+"-"+i[n[o+6]]+i[n[o+7]]+"-"+i[n[o+8]]+i[n[o+9]]+"-"+i[n[o+10]]+i[n[o+11]]+i[n[o+12]]+i[n[o+13]]+i[n[o+14]]+i[n[o+15]]).toLowerCase()}function ce(n,o,T){if(N.randomUUID&&!o&&!n)return N.randomUUID();n=n||{};const b=n.random||(n.rng||ie)();if(b[6]=b[6]&15|64,b[8]=b[8]&63|128,o){T=T||0;for(let v=0;v<16;++v)o[T+v]=b[v];return o}return le(b)}var ue=ce,de=(0,t.defineComponent)({setup(){return{contentID:"fitty-"+ue()}},mounted(){this.$nextTick(()=>{O("#"+this.contentID,this.options)})},name:"lumenpink-fitty",props:{options:Object}}),me=l(744),I=(0,me.Z)(de,[["render",M],["__scopeId","data-v-85cf7f76"]]),pe={install(n){n.component(I.name,I)}},fe=pe})(),S.exports=k})()})(re);var wa=re.exports;const Ca=["src"],ka=$({__name:"AvatarDialog",props:X({avatarUrl:{type:String,required:!0}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(S){const R=ne(S,"modelValue");return(p,l)=>(u(),_(ua,{modelValue:R.value,"onUpdate:modelValue":l[0]||(l[0]=k=>R.value=k)},{default:f(()=>[E(ae,null,{default:f(()=>[a("img",{src:p.avatarUrl},null,8,Ca)]),_:1})]),_:1},8,["modelValue"]))}}),Ma=oe(ka,[["__file","/home/zowie/dev/pkstatus/src/components/Card/AvatarDialog.vue"]]),C=S=>(ee("data-v-bc5d2d8d"),S=S(),J(),S),za={class:"col-auto self-center"},Ra={class:"col q-ml-md self-center"},Da=["src"],Ta=C(()=>a("td",null,"ID",-1)),Va={key:0},Ea=C(()=>a("td",null,"Pronouns",-1)),Ua=C(()=>a("td",null,"System",-1)),Aa={key:1},Fa=C(()=>a("td",null,"Messages Sent",-1)),Pa={key:2},Oa=C(()=>a("td",null,"Last Message",-1)),Ia={key:3},ja=C(()=>a("td",null,"Birthday",-1)),xa={key:4},Ba=C(()=>a("td",null,"Color",-1)),$a=C(()=>a("td",null,"Created At",-1)),Na={class:"description"},Wa=$({__name:"MemberCard",props:{member:{type:Object,required:!0},system:{type:Object,required:!0},details:{type:Boolean,required:!1,default:!0},popup:{type:Boolean,required:!1,default:!1}},setup(S){const R=da(),{detectPronouns:p,lookup:l,id:k}=ma(R),s=te(!1),c=Z(()=>{var t;return(t=pa().name)==null?void 0:t.toString().startsWith("lookup-system")});return(t,g)=>(u(),_(ae,null,{default:f(()=>{var M;return[E(x,{class:"row"},{default:f(()=>[a("div",za,[t.member.avatarUrl?(u(),_(ya,{key:0,size:"64px",url:t.member.avatarUrl,name:t.member.getName(h(p)),onClick:g[0]||(g[0]=D=>s.value=!!t.member.avatarUrl)},null,8,["url","name"])):d("v-if",!0)]),a("div",Ra,[E(h(wa.Fitty),{style:{"line-height":"100%"},options:{maxSize:100}},{default:f(()=>[G(y(t.member.getName(h(p))),1)]),_:1})])]),_:1}),t.member.bannerUrl?(u(),z("img",{key:0,src:t.member.bannerUrl},null,8,Da)):d("v-if",!0),t.popup?(u(),_(fa,{key:1,class:"bg-primary text-white",style:B(h(l).colorAccent?`min-height: 52px; background-color: #${t.member.color} !important;`:"")},{default:f(()=>[c.value?d("v-if",!0):(u(),_(ba,{key:0,color:"dark",label:"View System",to:`/lookup/system/${t.system.id}`},null,8,["to"]))]),_:1},8,["style"])):d("v-if",!0),t.details?(u(),_(x,{key:2},{default:f(()=>[E(va,{flat:"",separator:"horizontal",style:{overflow:"hidden"}},{default:f(()=>[a("tbody",null,[a("tr",null,[Ta,a("td",null,y(t.member.formatId(h(k))),1)]),t.member.getPronouns(h(p))?(u(),z("tr",Va,[Ea,a("td",null,y(t.member.getPronouns(h(p))),1)])):d("v-if",!0),a("tr",null,[Ua,a("td",null,y(t.system.getName(h(p))),1)]),t.member.messageCount?(u(),z("tr",Aa,[Fa,a("td",null,y(t.member.messageCount.toLocaleString()),1)])):d("v-if",!0),t.member.lastMessageAt?(u(),z("tr",Pa,[Oa,a("td",null,[E(ha,{time:t.member.lastMessageAt},null,8,["time"])])])):d("v-if",!0),t.member.birthday?(u(),z("tr",Ia,[ja,a("td",null,y(t.member.birthday.format("YYYY-MM-DD")),1)])):d("v-if",!0),t.member.color?(u(),z("tr",xa,[Ba,a("td",{style:B({color:`#${t.member.color}`,fontSize:"48px",lineHeight:"16px",textIndent:"-4px"})}," • ",4)])):d("v-if",!0),a("tr",null,[$a,a("td",null,y(t.member.createdAt.format("YYYY-MM-DD")),1)])])]),_:1})]),_:1})):d("v-if",!0),(M=t.member.description)!=null&&M.length?(u(),_(x,{key:3},{default:f(()=>[a("pre",Na,y(t.member.description),1)]),_:1})):d("v-if",!0),t.member.avatarUrl?(u(),_(Ma,{key:4,modelValue:s.value,"onUpdate:modelValue":g[1]||(g[1]=D=>s.value=D),"avatar-url":t.member.avatarUrl},null,8,["modelValue","avatar-url"])):d("v-if",!0)]}),_:1}))}}),Ga=oe(Wa,[["__scopeId","data-v-bc5d2d8d"],["__file","/home/zowie/dev/pkstatus/src/components/Card/MemberCard.vue"]]);export{Ma as A,Ga as M,wa as v};
