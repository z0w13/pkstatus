import{R as T,d as g,W as a,ap as o,Z as t,Y as s,$ as c,X as l,a4 as v,a5 as d,a2 as k,_ as D,ac as _,a7 as P,a3 as u,a6 as b,aB as h,ab as m,aC as q,at as w,aD as $,ah as Q,S as N,U}from"./index-B5cKJEsb.js";import{a as W,b as y,Q as f}from"./QItem-DFQyp7xd.js";import{m as j,Q as C}from"./index-DhNyYKrN.js";import{R as L}from"./RelativeTimeDisplay-CTCOZZ8Y.js";import{L as z}from"./LabeledTile-bczxvMPj.js";const V={key:0,class:"col-auto"},I={class:"description"},F={key:1,class:"col-auto"},O={class:"col"},R={class:"row q-col-gutter-md"},A={class:"description"},E={key:1,class:"col-auto"},G=u("div",{class:"absolute-bottom text-subtitle2 text-center"}," No Access ",-1),X={key:1,class:"row"},Y={class:"col-auto"},Z=T({__name:"SystemView",props:{system:{type:Object,required:!1},fronters:{type:Object,required:!1},detectPronouns:{type:Boolean,required:!0},showLastSwitch:{type:Boolean,required:!0},showUpdateTime:{type:Boolean,required:!0},showSystemDescription:{type:Boolean,required:!0},showFronterDescription:{type:Boolean,required:!0},cardWidth:{type:Number,required:!0}},setup(S){const n=S,p=g(()=>n.showLastSwitch||n.showUpdateTime),i=g(()=>{var e;return n.showSystemDescription&&((e=n.system)==null?void 0:e.description)});return(e,B)=>(a(),o(w,null,[e.system?(a(),o("div",V,[t(m,{flat:"",style:h({width:`${e.cardWidth}px`})},{default:s(()=>[t(z,{img:e.system.avatarUrl,label:e.system.getName(e.detectPronouns),caption:e.system.getPronouns(e.detectPronouns),size:`${e.cardWidth}px`,"fallback-icon":c(j)},{default:s(()=>[e.fronters&&p.value?(a(),l(_,{key:0,class:D({"q-px-none":e.cardWidth<220})},{default:s(()=>[e.showUpdateTime?(a(),l(W,{key:0},{default:s(()=>[e.cardWidth>180?(a(),l(y,{key:0,avatar:""},{default:s(()=>[t(v,{name:"update"})]),_:1})):d("v-if",!0),t(y,null,{default:s(()=>[t(f,null,{default:s(()=>[k(" Last updated ")]),_:1}),t(f,{caption:""},{default:s(()=>[t(L,{time:e.fronters.lastUpdated},null,8,["time"])]),_:1})]),_:1})]),_:1})):d("v-if",!0),e.showLastSwitch?(a(),l(W,{key:1},{default:s(()=>[e.cardWidth>180?(a(),l(y,{key:0,avatar:""},{default:s(()=>[t(v,{name:"swap_horiz"})]),_:1})):d("v-if",!0),t(y,null,{default:s(()=>[t(f,null,{default:s(()=>[k(" Last switch ")]),_:1}),t(f,{caption:""},{default:s(()=>[t(L,{time:e.fronters.lastSwitch},null,8,["time"])]),_:1})]),_:1})]),_:1})):d("v-if",!0)]),_:1},8,["class"])):d("v-if",!0),i.value&&p.value?(a(),l(P,{key:1})):d("v-if",!0),i.value?(a(),l(_,{key:2},{default:s(()=>[u("pre",I,b(e.system.description),1)]),_:1})):d("v-if",!0)]),_:1},8,["img","label","caption","size","fallback-icon"])]),_:1},8,["style"])])):(a(),o("div",F,[t(m,{flat:"",class:"justify-center row",style:h({width:`${e.cardWidth}px`,height:`${e.cardWidth}px`})},{default:s(()=>[t(q,{class:"self-center",color:"primary",width:"50%",height:"50%"})]),_:1},8,["style"])])),u("div",O,[u("div",R,[e.fronters?(a(),o(w,{key:0},[e.fronters.allowed?(a(!0),o(w,{key:0},$(e.fronters.members,r=>(a(),o("div",{key:r.id,class:"col-auto"},[t(z,{img:r.avatarUrl,label:r.getName(e.detectPronouns),caption:r.getPronouns(e.detectPronouns),size:`${e.cardWidth}px`},{default:s(()=>[r.description&&e.showFronterDescription?(a(),l(_,{key:0},{default:s(()=>[u("pre",A,b(r.description),1)]),_:2},1024)):d("v-if",!0)]),_:2},1032,["img","label","caption","size"])]))),128)):(a(),o("div",E,[t(m,{flat:"",style:h({width:`${e.cardWidth}px`,height:`${e.cardWidth}px`})},{default:s(()=>[t(C,{ratio:"1"},{default:s(()=>[t(v,{size:e.cardWidth+"px",color:"red",name:"cancel"},null,8,["size"]),G]),_:1})]),_:1},8,["style"])]))],64)):(a(),o("div",X,[u("div",Y,[t(m,{flat:"",class:"justify-center row",style:h({width:`${e.cardWidth}px`,height:`${e.cardWidth}px`})},{default:s(()=>[t(q,{class:"self-center",color:"primary",width:"50%",height:"50%"})]),_:1},8,["style"])])]))])])],64))}}),H=Q(Z,[["__file","/home/zowie/dev/pkstatus/src/components/StatusPage/Tile/SystemView.vue"]]),J={class:"col-12"},K=T({__name:"TileLayout",props:{ids:{type:Array,required:!0},fronters:{type:Object,required:!0},systems:{type:Object,required:!0}},setup(S){const n=N(),{detectPronouns:p}=U(n),i=n.status.tile;return(e,B)=>(a(),o("div",J,[(a(!0),o(w,null,$(e.ids,r=>(a(),o("div",{key:r,class:"row justify-left q-pa-md q-col-gutter-md"},[t(H,{system:e.systems[r],fronters:e.fronters[r],"detect-pronouns":c(p),"show-system-description":c(i).showSystemDescription,"show-fronter-description":c(i).showFronterDescription,"show-update-time":c(i).showUpdateTime,"show-last-switch":c(i).showLastSwitch,"card-width":c(i).tileSize},null,8,["system","fronters","detect-pronouns","show-system-description","show-fronter-description","show-update-time","show-last-switch","card-width"])]))),128))]))}}),ae=Q(K,[["__file","/home/zowie/dev/pkstatus/src/pages/status/TileLayout.vue"]]);export{ae as default};
