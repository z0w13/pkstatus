import{b as n,Q as p,a as _}from"./QItem-DFQyp7xd.js";import{R as N,S as I,U as Q,r as C,W as o,ap as c,a3 as k,Z as e,Y as s,at as f,aD as z,X as m,$ as a,a2 as d,a6 as v,a5 as y,a4 as q,aC as L,aE as D,ah as A}from"./index-B5cKJEsb.js";import{Q as P}from"./QList-CeI3M5mw.js";import{R as S}from"./RelativeTimeDisplay-CTCOZZ8Y.js";import{I as w}from"./InitialFallbackAvatar-DdQhVARR.js";import{D as U}from"./DescriptionDialog-ClBvxs1u.js";import"./index-DhNyYKrN.js";import"./QMarkupTable-BdHJVmiq.js";import"./MemberCard-D-huDLNl.js";const B={class:"row justify-center",style:{"min-height":"inherit"}},R={class:"col-auto q-mt-lg"},T=k("span",{class:"sr-only"},"Last updated",-1),V=k("span",{class:"sr-only"},"Last switch",-1),j=N({__name:"ListLayout",props:{ids:{type:Array,required:!0},fronters:{type:Object,required:!0},systems:{type:Object,required:!0}},setup($){const h=I(),{detectPronouns:i}=Q(h),l=h.status.list,g=C();return(t,b)=>(o(),c(f,null,[k("div",B,[k("div",R,[e(P,null,{default:s(()=>[(o(!0),c(f,null,z(t.ids,r=>(o(),c(f,{key:r},[t.systems[r]?(o(),m(_,{key:0,clickable:"",onClick:u=>g.value.show({system:t.systems[r]})},{default:s(()=>[e(n,{avatar:""},{default:s(()=>[e(w,{name:t.systems[r].getName(a(i)),url:t.systems[r].avatarUrl,size:a(l).iconSize+"px",square:a(l).squareIcons},null,8,["name","url","size","square"])]),_:2},1024),e(n,null,{default:s(()=>[e(p,null,{default:s(()=>[d(v(t.systems[r].getName(a(i))),1)]),_:2},1024),t.systems[r].getPronouns(a(i))?(o(),m(p,{key:0,caption:""},{default:s(()=>[d(v(t.systems[r].getPronouns(a(i))),1)]),_:2},1024)):y("v-if",!0),t.fronters[r]&&a(l).showUpdateTime?(o(),m(p,{key:1,caption:""},{default:s(()=>[e(q,{class:"q-mr-xs",name:"update","aria-hidden":"true"}),T,e(S,{time:t.fronters[r].lastUpdated},null,8,["time"])]),_:2},1024)):y("v-if",!0),t.fronters[r]&&a(l).showLastSwitch?(o(),m(p,{key:2,caption:""},{default:s(()=>[e(q,{class:"q-mr-xs",name:"swap_horiz","aria-hidden":"true"}),V,e(S,{time:t.fronters[r].lastSwitch},null,8,["time"])]),_:2},1024)):y("v-if",!0)]),_:2},1024)]),_:2},1032,["onClick"])):(o(),m(_,{key:1},{default:s(()=>[e(n,{avatar:""},{default:s(()=>[e(L,{size:a(l).iconSize+"px"},null,8,["size"])]),_:1}),e(n,null,{default:s(()=>[d("Loading...")]),_:1})]),_:1})),t.fronters[r]?(o(),c(f,{key:2},[t.fronters[r].allowed?(o(!0),c(f,{key:0},z(t.fronters[r].members,u=>(o(),m(_,{key:u.id,clickable:"","inset-level":1,onClick:E=>g.value.show({member:u,system:t.systems[r]})},{default:s(()=>[e(n,{avatar:""},{default:s(()=>[e(w,{name:u.getName(a(i)),url:u.avatarUrl,size:a(l).iconSize+"px",square:a(l).squareIcons},null,8,["name","url","size","square"])]),_:2},1024),e(n,{"no-wrap":""},{default:s(()=>[e(p,null,{default:s(()=>[d(v(u.getName(a(i))),1)]),_:2},1024),u.getPronouns(a(i))?(o(),m(p,{key:0,caption:""},{default:s(()=>[d(v(u.getPronouns(a(i))),1)]),_:2},1024)):y("v-if",!0)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(o(),c(f,{key:1},[y(" No Access "),e(_,{"inset-level":1},{default:s(()=>[e(n,{avatar:""},{default:s(()=>[e(D,{square:a(l).squareIcons,color:"red",icon:"close",size:a(l).iconSize+"px"},null,8,["square","size"])]),_:1}),e(n,null,{default:s(()=>[d("No Access")]),_:1})]),_:1})],2112))],64)):(o(),c(f,{key:3},[y(" Loading "),e(_,{"inset-level":1},{default:s(()=>[e(n,{avatar:""},{default:s(()=>[e(L,{size:a(l).iconSize+"px"},null,8,["size"])]),_:1}),e(n,null,{default:s(()=>[d("Loading...")]),_:1})]),_:1})],2112))],64))),128))]),_:1})])]),e(U,{ref_key:"dialog",ref:g},null,512)],64))}}),K=A(j,[["__file","/home/zowie/dev/pkstatus/src/pages/status/ListLayout.vue"]]);export{K as default};
